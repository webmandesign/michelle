/* FILE: global/menu/_primary-sub-menu.scss */

.main-navigation {
	text-transform: lowercase;

	.sub-menu {
		display: none;
		position: absolute;
		width: auto;
		min-width: 16em;
		#{$left}: -2em;
		top: 100%;
		padding: calc( 6vh - .25rem ) 2em calc( 6vh - .25rem );
		background: var(--color_navigation_background);
		color: var(--color_navigation_text);
		z-index: 1;

		.sub-menu {
			#{$left}: 100%;
			top: calc( -6vh + .25rem );
			padding-top: calc( 6vh - .25rem );
			box-shadow: 0 1em 2em rgba( #000, .15 );
		}

		@include media( map_get( $breakpoint, $mobile_menu_breakpoint ) ) {
			#{$left}: -6vh;
			padding-left: 6vh;
			padding-right: 6vh;
		}

	}

	.menu-item-has-children {
		position: relative;

		// Inaccessible menu fallback indicating submenu.
		&:not([aria-haspopup]):not(.menu-item-is-depth-3) {

			> a {
				display: flex;
				align-items: center;
				justify-content: space-between;

				&::after {
					content: '\25bc';
					padding-#{$left}: 1em;
					margin-#{$left}: auto;
					font-size: .5em;
				}

			}

			.menu-item-has-children:not(.menu-item-is-depth-3) > a::after {
				@if 'left' == $left {
					content: '\25b6';
				} @else {
					content: '\25C0';
				}
			}

		}

		&:hover > .sub-menu {

			@include media( map_get( $breakpoint, $mobile_menu_breakpoint ) ) {
				display: block;
			}

		}

	}

}
